(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{jKbL:function(t,e,i){"use strict";i.r(e),i.d(e,"EcommerceModule",(function(){return C}));var n=i("Valr"),o=i("DUip"),c=i("mB2O"),a=i("SbwZ"),r=i("kmKP"),s=i("ea4N"),l=i("TYT/"),b=i("uLXW"),d=i("p+mS"),u=function(){function t(t,e,i){this.modal=t,this.data=e,this.service=i,this.clicked=!1,this.item={}}return t.prototype.ngOnInit=function(){this.item=this.data},t.prototype.delete=function(){var t=this;if(this.clicked=!0,null==this.item.uid)this.closeModal(!1);else{var e=JSON.parse(localStorage.getItem("items"));e.forEach((function(i,n){i.uid==t.item.uid&&e.splice(n,1)})),console.log(e),localStorage.setItem("items",JSON.stringify(e)),this.closeModal(!0)}},t.prototype.closeModal=function(t){this.modal.close(t)},t.\u0275fac=function(e){return new(e||t)(l.Pb(s.d),l.Pb(s.a),l.Pb(c.a))},t.\u0275cmp=l.Jb({type:t,selectors:[["app-delete-item-order"]],decls:18,vars:5,consts:[["fxLayout","row","fxLayoutAlign","center none",1,"container"],["fxFlex",""],["fxFlex","90%"],["fxLayout","row"],["fxFlex","45%"],["mat-stroked-button","","color","primary",3,"disabled","click"],["type","button","mat-stroked-button","","color","warn",3,"disabled","click"]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Qb(1,"div",1),l.Vb(2,"div",2),l.Vb(3,"h2"),l.Ac(4),l.Ub(),l.Ub(),l.Qb(5,"div",1),l.Ub(),l.Vb(6,"div",0),l.Vb(7,"div",1),l.Vb(8,"h3"),l.Ac(9),l.Ub(),l.Ub(),l.Ub(),l.Vb(10,"div",3),l.Vb(11,"div",4),l.Vb(12,"button",5),l.dc("click",(function(){return e.delete()})),l.Ac(13,"Deletar"),l.Ub(),l.Ub(),l.Qb(14,"div",1),l.Vb(15,"div",4),l.Vb(16,"button",6),l.dc("click",(function(){return e.closeModal(null)})),l.Ac(17,"Cancelar"),l.Ub(),l.Ub(),l.Ub()),2&t&&(l.Db(4),l.Cc("Deseja remover ",null==e.data.uid?"items?":"item?",""),l.Db(5),l.Dc("",e.item.name," ",null==e.data.uid?"Todos os \xedtens ser\xe3o removidos?":"ser\xe1 removido do pedido?",""),l.Db(3),l.nc("disabled",e.clicked),l.Db(4),l.nc("disabled",e.clicked))},directives:[b.d,b.c,b.b,d.b],styles:[".container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{text-align:center}button[_ngcontent-%COMP%]{width:100%}"]}),t}(),m=i("5msO"),p=i("17Os"),f=i("GsDI");function h(t,e){if(1&t){var i=l.Wb();l.Vb(0,"div",5),l.Qb(1,"div",6),l.Vb(2,"div",7),l.Vb(3,"button",8),l.dc("click",(function(){return l.sc(i),l.hc().removeAll(null)})),l.Ac(4,"Remover tudo"),l.Ub(),l.Ub(),l.Ub()}}function g(t,e){if(1&t){var i=l.Wb();l.Vb(0,"div",10),l.Vb(1,"div",11),l.Vb(2,"mat-card"),l.Vb(3,"div",5),l.Vb(4,"div",12),l.Vb(5,"h3"),l.Ac(6),l.Ub(),l.Ub(),l.Vb(7,"div",13),l.Vb(8,"div",5),l.Qb(9,"div",6),l.Vb(10,"div",14),l.Vb(11,"h3"),l.Ac(12),l.Ub(),l.Ub(),l.Vb(13,"div",15),l.Vb(14,"mat-icon",16),l.dc("click",(function(){l.sc(i);var t=e.$implicit;return l.hc(2).delete(t)})),l.Ac(15,"delete"),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&t){var n=e.$implicit;l.Db(6),l.Bc(n.name),l.Db(6),l.Bc(n.price)}}function v(t,e){if(1&t&&(l.Vb(0,"div"),l.yc(1,g,16,2,"div",9),l.Ub()),2&t){var i=l.hc();l.Db(1),l.nc("ngForOf",i.items)}}function x(t,e){if(1&t&&(l.Vb(0,"div",17),l.Vb(1,"div",11),l.Vb(2,"mat-card"),l.Vb(3,"div",5),l.Vb(4,"div",12),l.Vb(5,"h3"),l.Ac(6," Total"),l.Ub(),l.Ub(),l.Vb(7,"div",13),l.Vb(8,"div",5),l.Qb(9,"div",6),l.Vb(10,"div",18),l.Vb(11,"h3"),l.Ac(12),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub()),2&t){var i=l.hc();l.Db(12),l.Bc(i.total_price)}}var U=function(){return["/ecommerce/products"]};function y(t,e){1&t&&(l.Vb(0,"div",5),l.Qb(1,"div",19),l.Vb(2,"div",20),l.Vb(3,"div",5),l.Vb(4,"div",21),l.Vb(5,"h3"),l.Ac(6,"N\xe3o h\xe1 produtos no carrinho"),l.Ub(),l.Ub(),l.Ub(),l.Vb(7,"div",5),l.Vb(8,"div",21),l.Qb(9,"img",22),l.Ub(),l.Ub(),l.Vb(10,"div",5),l.Vb(11,"div",21),l.Vb(12,"a",23),l.Ac(13,"Comprar"),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Qb(14,"div",19),l.Ub()),2&t&&(l.Db(12),l.nc("routerLink",l.oc(1,U)))}function V(t,e){if(1&t){var i=l.Wb();l.Vb(0,"button",24),l.dc("click",(function(){return l.sc(i),l.hc().doneSale()})),l.Vb(1,"mat-icon"),l.Ac(2,"done_all"),l.Ub(),l.Ub()}}var k=function(){function t(t,e,i,n,o){this.service=t,this.dialog=e,this.snackbar=i,this._service=n,this.prodservice=o,this.items=[],this.sale={}}return t.prototype.ngOnInit=function(){this.getUserSale(),this.items=JSON.parse(localStorage.getItem("items")),this.sumItems(),null!=this.items&&this.items.forEach((function(t){t.price=parseFloat(t.price.replace(/\./g,"").replace(",",".")).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}))},t.prototype.getUserSale=function(){var t=this;this._service.getUser(localStorage.getItem("uid")).subscribe((function(e){t.user=e}))},t.prototype.delete=function(t){var e=this;this.dialog.open(u,{width:"400px",height:"250px",disableClose:!0,data:{uid:t.uid,name:t.name}}).afterClosed().subscribe((function(t){null!=t&&(e.prodservice.itemEvent.emit(!1),e.items=JSON.parse(localStorage.getItem("items")),console.log(e.items),e.openSnackBar("\xcdtem removido com sucesso!"))}))},t.prototype.removeAll=function(t){var e=this;this.dialog.open(u,{width:"400px",height:"250px",disableClose:!0,data:{uid:null}}).afterClosed().subscribe((function(t){t||null==t||(e.prodservice.itemEvent.emit(!1),e.items=null,localStorage.removeItem("items"),e.openSnackBar("Todos os \xedtens foram removidos com sucesso!"))}))},t.prototype.sumItems=function(){if(null!=this.items){var t=this.items.reduce((function(t,e){return t+parseFloat(e.price.replace(/\./g,"").replace(",","."))}),0);this.total_price=t.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}},t.prototype.doneSale=function(){var t=this;this.sale.total_price=this.total_price.replace("R$","").substring(1,15),this.sale.created_at=new Date,this.sale.customer=this.user.name,this.sale.items=this.items,this.service.add(this.sale).then((function(e){e&&(t.items=null,localStorage.removeItem("items"),t.openSnackBar("Venda realizada com sucesso!"))}))},t.prototype.openSnackBar=function(t){this.snackbar.open(t,"Fechar",{duration:2e3})},t.\u0275fac=function(e){return new(e||t)(l.Pb(a.a),l.Pb(s.b),l.Pb(m.a),l.Pb(r.a),l.Pb(c.a))},t.\u0275cmp=l.Jb({type:t,selectors:[["app-kart-orders"]],decls:6,vars:5,consts:[["fxLayout","row",4,"ngIf"],[4,"ngIf","ngIfElse"],["fxLayout","row","class","result-order",4,"ngIf"],["no_product",""],["mat-fab","","color","primary","class","btn-fab",3,"click",4,"ngIf"],["fxLayout","row"],["fxFlex",""],["fxFlex","20","fxFlexAlign","right"],["mat-button","",2,"float","right",3,"click"],["fxLayout","row","class","block",4,"ngFor","ngForOf"],["fxLayout","row",1,"block"],["fxFlex","100"],["fxFlex","50"],["fxFlex","50","fxFlexAlign","right"],["fxFlex","20","fxFlexAlign","center"],["fxFlex","5","fxFlexAlign","right",1,"block-icon"],[3,"click"],["fxLayout","row",1,"result-order"],["fxFlex","40","fxFlexAlign","right"],["fxFlex","25"],["fxFlex","50","fxFlexAlign","center none",2,"text-align","center"],["fxFlex","100","fxFlexAlign","center none"],["src","assets/images/icons/no_product.png","alt","",1,"no-product",2,"width","50%"],["mat-stroked-button","",2,"width","50%","margin-top","8%",3,"routerLink"],["mat-fab","","color","primary",1,"btn-fab",3,"click"]],template:function(t,e){if(1&t&&(l.yc(0,h,5,0,"div",0),l.yc(1,v,2,1,"div",1),l.yc(2,x,13,1,"div",2),l.yc(3,y,15,2,"ng-template",null,3,l.zc),l.yc(5,V,3,0,"button",4)),2&t){var i=l.qc(4);l.nc("ngIf",null!=e.items),l.Db(1),l.nc("ngIf",null!=e.items)("ngIfElse",i),l.Db(1),l.nc("ngIf",null!=e.items),l.Db(3),l.nc("ngIf",null!=e.items)}},directives:[n.l,b.d,b.b,b.a,d.b,n.k,p.a,f.a,d.a,o.d],styles:[".block[_ngcontent-%COMP%]{margin-bottom:1.5%}.block[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]{box-shadow:1px 2px 3px}.result-order[_ngcontent-%COMP%]{bottom:0;position:fixed;width:80%}.result-order[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]{background:rgba(63,81,181,.7803921568627451);color:#fff;font-size:30px}.block-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:60% auto}.btn-fab[_ngcontent-%COMP%]{position:fixed;bottom:22%;right:3%}"]}),t}();function w(t,e){if(1&t){var i=l.Wb();l.Vb(0,"div",3),l.Vb(1,"mat-card",4),l.Vb(2,"mat-card-header"),l.Qb(3,"div",5),l.Vb(4,"mat-card-title"),l.Ac(5),l.Ub(),l.Vb(6,"mat-card-subtitle"),l.Ac(7),l.Ub(),l.Ub(),l.Qb(8,"img",6),l.Qb(9,"mat-card-content"),l.Vb(10,"mat-card-actions"),l.Vb(11,"button",7),l.dc("click",(function(){l.sc(i);var t=e.$implicit;return l.hc().addOrder(t)})),l.Vb(12,"mat-icon"),l.Ac(13,"add_shopping_cart"),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&t){var n=e.$implicit;l.Db(5),l.Bc(n.name),l.Db(2),l.Cc("Pre\xe7o R$ ",n.price,"")}}var S=[{path:"products",component:function(){function t(t,e){this.service=t,this.snackbar=e,this.places=[],this.places=[{imgSrc:"assets/images/card-1.jpg",place:"Cozy 5 Stars Apartment",description:'The place is close to Barceloneta Beach and bus stop just 2 min by walk and near to "Naviglio" where you can enjoy the main night life in Barcelona.',charge:"$899/night",location:"Barcelona, Spain"},{imgSrc:"assets/images/card-2.jpg",place:"Office Studio",description:'The place is close to Metro Station and bus stop just 2 min by walk and near to "Naviglio" where you can enjoy the night life in London, UK.',charge:"$1,119/night",location:"London, UK"},{imgSrc:"assets/images/card-3.jpg",place:"Beautiful Castle",description:'The place is close to Metro Station and bus stop just 2 min by walk and near to "Naviglio" where you can enjoy the main night life in Milan.',charge:"$459/night",location:"Milan, Italy"}]}return t.prototype.ngOnInit=function(){this.getProducts(),console.log(JSON.parse(localStorage.getItem("items")))},t.prototype.getProducts=function(){var t=this;this.service.getProducts().subscribe((function(e){t.products=e}))},t.prototype.addOrder=function(t){this.service.itemEvent.emit(!0),this.service.items.unshift(t),localStorage.setItem("items",JSON.stringify(this.service.items)),console.log(this.service.items),this.openSnackBar("Produto adicionado ao pedido!")},t.prototype.openSnackBar=function(t){this.snackbar.open(t,"Fechar",{duration:700})},t.\u0275fac=function(e){return new(e||t)(l.Pb(c.a),l.Pb(m.a))},t.\u0275cmp=l.Jb({type:t,selectors:[["app-list-products-ecommerce"]],decls:3,vars:1,consts:[[1,"grid"],[1,"row"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],["mat-card-image","","src","https://material.angular.io/assets/img/examples/shiba2.jpg","alt","Photo of a Shiba Inu"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Vb(1,"div",1),l.yc(2,w,14,2,"div",2),l.Ub(),l.Ub()),2&t&&(l.Db(2),l.nc("ngForOf",e.products))},directives:[n.k,p.a,p.e,p.c,p.i,p.h,p.f,p.d,p.b,d.b,f.a],styles:[".mat-card[_ngcontent-%COMP%]{border-radius:15px;width:80%}.mat-card[_ngcontent-%COMP%]:hover{border-radius:15px;box-shadow:6px 6px 11px;cursor:pointer}.mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.col[_ngcontent-%COMP%]{width:25%;white-space:pre-line;display:inline-block;margin:3% auto}"]}),t}()},{path:"kart",component:k}],O=function(){function t(){}return t.\u0275mod=l.Nb({type:t}),t.\u0275inj=l.Mb({factory:function(e){return new(e||t)},imports:[[o.e.forChild(S)],o.e]}),t}(),P=i("MviD"),F=i("qiSS"),C=function(){function t(){}return t.\u0275mod=l.Nb({type:t}),t.\u0275inj=l.Mb({factory:function(e){return new(e||t)},imports:[[n.c,O,P.a,F.a.withConfig({addFlexToParent:!1})]]}),t}()}}]);