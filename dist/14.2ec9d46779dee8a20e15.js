(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"nG/D":function(t,e,n){"use strict";n.r(e),n.d(e,"ProductModule",(function(){return R}));var o=n("Valr"),i=n("DUip"),c=n("nbAZ"),a=n("Byqp"),r=n("ETwC"),d=n("mB2O"),b=n("QJY3"),l=n("TYT/"),u=n("ea4N"),s=n("5msO"),p=n("uLXW"),f=n("eHTH"),m=n("cSbt"),h=n("EVdn"),y=(n("a9fN"),function(){function t(t){this.eleRef=t,this.applyMask()}return t.prototype.applyMask=function(){h(this.eleRef.nativeElement).mask("000.000.000.000.000,00",{reverse:!0})},t.\u0275fac=function(e){return new(e||t)(l.Pb(l.l))},t.\u0275dir=l.Kb({type:t,selectors:[["","money",""]]}),t}()),v=n("p+mS"),g=function(){function t(t,e,n,o){this.service=t,this.fb=e,this.modal=n,this.snackbar=o,this.clicked=!1}return t.prototype.ngOnInit=function(){this.initForm()},t.prototype.initForm=function(){this.form=this.fb.group({name:[this.service.product.name,b.m.required],price:[this.service.product.price,b.m.required]})},t.prototype.submit=function(){this.clicked=!0,null==this.service.product.uid?this.add():this.update()},t.prototype.add=function(){var t=this;this.service.add(this.form.value).then((function(e){t.openSnackBar("Produto cadastrado com sucesso!"),t.closeModal(!0)}))},t.prototype.update=function(){var t=this;this.form.value.uid=this.service.product.uid,this.service.update(this.form.value).then((function(e){t.openSnackBar("Produto atualizado com sucesso!"),t.closeModal(!0)}))},t.prototype.openSnackBar=function(t){this.snackbar.open(t,"Fechar",{duration:2e3})},t.prototype.closeModal=function(t){this.modal.close(t)},t.\u0275fac=function(e){return new(e||t)(l.Pb(d.a),l.Pb(b.c),l.Pb(u.d),l.Pb(s.a))},t.\u0275cmp=l.Jb({type:t,selectors:[["app-create-edit-product"]],decls:21,vars:5,consts:[["fxLayout","row","fxLayoutAlign","center none",1,"container"],["fxFlex",""],["fxFlex","50%"],[3,"formGroup","ngSubmit"],["fxLayout","row"],["fxFlex","48"],["matInput","","type","text","placeholder","Nome","formControlName","name"],["matInput","","type","text","placeholder","Valor","formControlName","price","money",""],["fxFlex","45%"],["mat-stroked-button","","color","primary",3,"disabled"],["type","button","mat-stroked-button","","color","warn",3,"disabled","click"]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Qb(1,"div",1),l.Vb(2,"div",2),l.Vb(3,"h3"),l.Ac(4),l.Ub(),l.Ub(),l.Qb(5,"div",1),l.Ub(),l.Vb(6,"form",3),l.dc("ngSubmit",(function(){return e.submit()})),l.Vb(7,"div",4),l.Vb(8,"mat-form-field",5),l.Qb(9,"input",6),l.Ub(),l.Qb(10,"div",1),l.Vb(11,"mat-form-field",5),l.Qb(12,"input",7),l.Ub(),l.Ub(),l.Vb(13,"div",4),l.Vb(14,"div",8),l.Vb(15,"button",9),l.Ac(16),l.Ub(),l.Ub(),l.Qb(17,"div",1),l.Vb(18,"div",8),l.Vb(19,"button",10),l.dc("click",(function(){return e.closeModal(null)})),l.Ac(20,"Cancelar"),l.Ub(),l.Ub(),l.Ub(),l.Ub()),2&t&&(l.Db(4),l.Bc(e.service.product.uid?"Atualizar Cliente":"Cadastrar Cliente"),l.Db(2),l.nc("formGroup",e.form),l.Db(9),l.nc("disabled",!e.form.valid||e.clicked),l.Db(1),l.Bc(e.service.product.uid?"Alterar":"Cadastrar"),l.Db(3),l.nc("disabled",e.clicked))},directives:[p.d,p.c,p.b,b.n,b.j,b.e,f.b,m.a,b.b,b.i,b.d,y,v.b],styles:[".row[_ngcontent-%COMP%]{margin:5% 0}button[_ngcontent-%COMP%]{width:100%}"]}),t}(),V=function(){function t(t,e,n){this.service=t,this.modal=e,this.data=n,this.clicked=!1}return t.prototype.ngOnInit=function(){},t.prototype.delete=function(){var t=this;this.clicked=!0,this.service.delete(this.data.uid).then((function(e){t.closeModal(!0)}))},t.prototype.closeModal=function(t){this.modal.close(t)},t.\u0275fac=function(e){return new(e||t)(l.Pb(d.a),l.Pb(u.d),l.Pb(u.a))},t.\u0275cmp=l.Jb({type:t,selectors:[["app-delete-product"]],decls:18,vars:2,consts:[["fxLayout","row","fxLayoutAlign","center none",1,"container"],["fxFlex",""],["fxFlex","90%"],["fxLayout","row"],["fxFlex","45%"],["mat-stroked-button","","color","primary",3,"disabled","click"],["type","button","mat-stroked-button","","color","warn",3,"disabled","click"]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Qb(1,"div",1),l.Vb(2,"div",2),l.Vb(3,"h2"),l.Ac(4,"Deseja deletar realmente?"),l.Ub(),l.Ub(),l.Qb(5,"div",1),l.Ub(),l.Vb(6,"div",0),l.Vb(7,"div",1),l.Vb(8,"h3"),l.Ac(9,"Produto ser\xe1 deletado"),l.Ub(),l.Ub(),l.Ub(),l.Vb(10,"div",3),l.Vb(11,"div",4),l.Vb(12,"button",5),l.dc("click",(function(){return e.delete()})),l.Ac(13,"Deletar"),l.Ub(),l.Ub(),l.Qb(14,"div",1),l.Vb(15,"div",4),l.Vb(16,"button",6),l.dc("click",(function(){return e.closeModal(null)})),l.Ac(17,"Cancelar"),l.Ub(),l.Ub(),l.Ub()),2&t&&(l.Db(12),l.nc("disabled",e.clicked),l.Db(4),l.nc("disabled",e.clicked))},directives:[p.d,p.c,p.b,v.b],styles:[".container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{text-align:center}button[_ngcontent-%COMP%]{width:100%}"]}),t}(),w=n("GsDI");function C(t,e){1&t&&(l.Vb(0,"th",13),l.Ac(1," ID "),l.Ub())}function U(t,e){if(1&t&&(l.Vb(0,"td",14),l.Ac(1),l.Ub()),2&t){var n=e.index;l.Db(1),l.Cc(" ",n+1," ")}}function k(t,e){1&t&&(l.Vb(0,"th",13),l.Ac(1," NOME "),l.Ub())}function x(t,e){if(1&t&&(l.Vb(0,"td",14),l.Ac(1),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.Cc(" ",n.name," ")}}function P(t,e){1&t&&(l.Vb(0,"th",13),l.Ac(1," PRE\xc7O "),l.Ub())}function D(t,e){if(1&t&&(l.Vb(0,"td",14),l.Ac(1),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.Cc(" ",n.price," ")}}function M(t,e){1&t&&l.Qb(0,"th",13)}function S(t,e){if(1&t){var n=l.Wb();l.Vb(0,"td",14),l.Vb(1,"mat-icon",15),l.Ac(2,"visibility"),l.Ub(),l.Vb(3,"mat-icon",16),l.dc("click",(function(){l.sc(n);var t=e.$implicit;return l.hc().openModal(t)})),l.Ac(4,"edit"),l.Ub(),l.Vb(5,"mat-icon",16),l.dc("click",(function(){l.sc(n);var t=e.$implicit;return l.hc().delete(t.uid)})),l.Ac(6,"delete"),l.Ub(),l.Ub()}}function A(t,e){1&t&&l.Qb(0,"tr",17)}function O(t,e){1&t&&l.Qb(0,"tr",18)}var F=function(){return[5,10,25,100]},Q=[{path:"list",component:function(){function t(t,e,n){this.service=t,this.dialog=e,this.snackbar=n,this.displayedColumns=["uid","name","price","icons"]}return t.prototype.ngOnInit=function(){this.getProducts()},t.prototype.getProducts=function(){var t=this;this.service.getProducts().subscribe((function(e){e.forEach((function(t){t.price=parseFloat(t.price.replace(/\./g,"").replace(",",".")).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})),t.dataSource=new r.k(e),t.dataSource.paginator=t.paginator,t.dataSource.sort=t.sort}))},t.prototype.applyFilter=function(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()},t.prototype.openModal=function(t){this.service.product=Object.assign({},t),this.dialog.open(g,{width:"600px",height:"210px"}).afterClosed().subscribe()},t.prototype.delete=function(t){var e=this;this.dialog.open(V,{width:"400px",height:"250px",disableClose:!0,data:{uid:t}}).afterClosed().subscribe((function(t){null!=t&&e.openSnackBar("Produto deletado com sucesso!")}))},t.prototype.openSnackBar=function(t){this.snackbar.open(t,"Fechar",{duration:2e3})},t.\u0275fac=function(e){return new(e||t)(l.Pb(d.a),l.Pb(u.b),l.Pb(s.a))},t.\u0275cmp=l.Jb({type:t,selectors:[["app-list-products"]],viewQuery:function(t,e){var n;1&t&&(l.wc(c.a,!0),l.wc(a.a,!0)),2&t&&(l.pc(n=l.ec())&&(e.paginator=n.first),l.pc(n=l.ec())&&(e.sort=n.first))},decls:24,vars:5,consts:[["matInput","","placeholder","Ex. Mia",3,"keyup"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","uid"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","price"],["matColumnDef","icons"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["mat-fab","","color","primary",1,"btn-fab",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["aria-hidden","false","aria-label","Example home icon"],["aria-hidden","false","aria-label","Example home icon",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(l.Vb(0,"mat-form-field"),l.Vb(1,"mat-label"),l.Ac(2,"Filtro"),l.Ub(),l.Vb(3,"input",0),l.dc("keyup",(function(t){return e.applyFilter(t)})),l.Ub(),l.Ub(),l.Vb(4,"div",1),l.Vb(5,"table",2),l.Tb(6,3),l.yc(7,C,2,0,"th",4),l.yc(8,U,2,1,"td",5),l.Sb(),l.Tb(9,6),l.yc(10,k,2,0,"th",4),l.yc(11,x,2,1,"td",5),l.Sb(),l.Tb(12,7),l.yc(13,P,2,0,"th",4),l.yc(14,D,2,1,"td",5),l.Sb(),l.Tb(15,8),l.yc(16,M,1,0,"th",4),l.yc(17,S,7,0,"td",5),l.Sb(),l.yc(18,A,1,0,"tr",9),l.yc(19,O,1,0,"tr",10),l.Ub(),l.Qb(20,"mat-paginator",11),l.Ub(),l.Vb(21,"button",12),l.dc("click",(function(){return e.openModal(null)})),l.Vb(22,"mat-icon"),l.Ac(23,"add"),l.Ub(),l.Ub()),2&t&&(l.Db(5),l.nc("dataSource",e.dataSource),l.Db(13),l.nc("matHeaderRowDef",e.displayedColumns),l.Db(1),l.nc("matRowDefColumns",e.displayedColumns),l.Db(1),l.nc("pageSizeOptions",l.oc(4,F)))},directives:[f.b,f.e,m.a,r.j,a.a,r.c,r.e,r.b,r.g,r.i,c.a,v.b,w.a,r.d,a.b,r.a,r.f,r.h],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:25%}.btn-fab[_ngcontent-%COMP%]{position:fixed;bottom:2%;right:2%}"]}),t}()}],_=function(){function t(){}return t.\u0275mod=l.Nb({type:t}),t.\u0275inj=l.Mb({factory:function(e){return new(e||t)},imports:[[i.e.forChild(Q)],i.e]}),t}(),B=n("MviD"),L=n("qiSS"),R=function(){function t(){}return t.\u0275mod=l.Nb({type:t}),t.\u0275inj=l.Mb({factory:function(e){return new(e||t)},imports:[[o.c,_,B.a,L.a.withConfig({addFlexToParent:!1}),b.l]]}),t}()}}]);