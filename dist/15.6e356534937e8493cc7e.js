(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{amRK:function(t,e,i){"use strict";i.r(e),i.d(e,"SaleModule",(function(){return R}));var c=i("Valr"),a=i("DUip"),o=i("nbAZ"),n=i("Byqp"),r=i("ETwC"),b=i("SbwZ"),l=i("TYT/"),s=i("ea4N"),d=i("uLXW"),u=i("+0bg"),f=i("p+mS");function p(t,e){if(1&t&&(l.Vb(0,"mat-list-item",13),l.Vb(1,"div",4),l.Vb(2,"div",14),l.Ac(3),l.Ub(),l.Qb(4,"div",1),l.Vb(5,"div",15),l.Ac(6),l.Ub(),l.Ub(),l.Ub()),2&t){var i=e.$implicit;l.Db(3),l.Cc(" ",i.name," "),l.Db(3),l.Cc(" ",i.price," ")}}var m=function(){function t(t,e){this.modal=t,this.service=e}return t.prototype.ngOnInit=function(){console.log(this.service.sale),this.service.sale.total_price=parseFloat(this.service.sale.total_price.substring(3,15).replace(/\./g,"").replace(",",".")).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},t.prototype.closeModal=function(t){this.modal.close(t)},t.\u0275fac=function(e){return new(e||t)(l.Pb(s.d),l.Pb(b.a))},t.\u0275cmp=l.Jb({type:t,selectors:[["app-details-sale"]],decls:35,vars:11,consts:[["fxLayout","row","fxLayoutAlign","center none",1,"container"],["fxFlex",""],["fxFlex","100%"],["fxLayout","row",1,"row"],["fxLayout","row","fxFlex","100%"],["fxFlex","50%"],["fxFlex","30%"],["role","list"],["role","listitem",4,"ngFor","ngForOf"],["fxFlex","70"],["fxFlex","30"],["fxLayout","row",2,"margin-top","5%"],["type","button","mat-stroked-button","","color","warn",3,"click"],["role","listitem"],["fxFlex","60%"],["fxFlex","20%"]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Qb(1,"div",1),l.Vb(2,"div",2),l.Vb(3,"h1"),l.Ac(4,"Venda Realizada"),l.Ub(),l.Ub(),l.Qb(5,"div",1),l.Ub(),l.Vb(6,"div",3),l.Vb(7,"div",2),l.Vb(8,"h2"),l.Ac(9,"Cliente"),l.Ub(),l.Vb(10,"div",4),l.Vb(11,"div",5),l.Ac(12),l.Ub(),l.Qb(13,"div",1),l.Vb(14,"div",6),l.Ac(15),l.ic(16,"date"),l.ic(17,"date"),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(18,"div",3),l.Vb(19,"div",2),l.Vb(20,"h2"),l.Ac(21,"Produtos"),l.Ub(),l.Vb(22,"mat-list",7),l.yc(23,p,7,2,"mat-list-item",8),l.Ub(),l.Ub(),l.Ub(),l.Vb(24,"div",3),l.Vb(25,"div",9),l.Vb(26,"h1"),l.Ac(27,"Total"),l.Ub(),l.Ub(),l.Vb(28,"div",10),l.Vb(29,"h1"),l.Ac(30),l.Ub(),l.Ub(),l.Ub(),l.Vb(31,"div",11),l.Vb(32,"div",2),l.Vb(33,"button",12),l.dc("click",(function(){return e.closeModal(null)})),l.Ac(34,"Fechar"),l.Ub(),l.Ub(),l.Ub()),2&t&&(l.Db(12),l.Cc(" ",e.service.sale.customer," "),l.Db(3),l.Dc(" ",l.kc(16,5,e.service.sale.created_at.toDate(),"dd/MM/yyyy")," \xe0s ",l.kc(17,8,e.service.sale.created_at.toDate(),"hh:mm")," "),l.Db(8),l.nc("ngForOf",e.service.sale.items),l.Db(7),l.Bc(e.service.sale.total_price))},directives:[d.d,d.c,d.b,u.a,c.k,f.b,u.b],pipes:[c.e],styles:[".container[_ngcontent-%COMP%]{text-align:center}.row[_ngcontent-%COMP%]{border-bottom:.2px solid grey}"]}),t}(),h=i("eHTH"),y=i("cSbt"),v=i("GsDI");function g(t,e){1&t&&(l.Vb(0,"th",13),l.Ac(1," ID "),l.Ub())}function V(t,e){if(1&t&&(l.Vb(0,"td",14),l.Ac(1),l.Ub()),2&t){var i=e.index;l.Db(1),l.Cc(" ",i+1," ")}}function U(t,e){1&t&&(l.Vb(0,"th",13),l.Ac(1," CLIENTE "),l.Ub())}function w(t,e){if(1&t&&(l.Vb(0,"td",14),l.Ac(1),l.Ub()),2&t){var i=e.$implicit;l.Db(1),l.Cc(" ",i.customer," ")}}function D(t,e){1&t&&(l.Vb(0,"th",13),l.Ac(1," DATA VENDA "),l.Ub())}function x(t,e){if(1&t&&(l.Vb(0,"td",14),l.Ac(1),l.ic(2,"date"),l.ic(3,"date"),l.Ub()),2&t){var i=e.$implicit;l.Db(1),l.Dc(" ",l.kc(2,2,i.created_at.toDate(),"dd/MM/yyyy")," \xe0s ",l.kc(3,5,i.created_at.toDate(),"HH:mm")," ")}}function C(t,e){1&t&&(l.Vb(0,"th",13),l.Ac(1," TOTAL "),l.Ub())}function S(t,e){if(1&t&&(l.Vb(0,"td",14),l.Ac(1),l.Ub()),2&t){var i=e.$implicit;l.Db(1),l.Cc(" ",i.total_price," ")}}function A(t,e){1&t&&l.Qb(0,"th",13)}function _(t,e){if(1&t){var i=l.Wb();l.Vb(0,"td",14),l.Vb(1,"mat-icon",15),l.dc("click",(function(){l.sc(i);var t=e.$implicit;return l.hc().detail(t)})),l.Ac(2,"visibility"),l.Ub(),l.Ub()}}function M(t,e){1&t&&l.Qb(0,"tr",16)}function F(t,e){1&t&&l.Qb(0,"tr",17)}var O=function(){return[5,10,25,100]},P=[{path:"list",component:function(){function t(t,e){this.service=t,this.dialog=e,this.displayedColumns=["uid","customer","created_at","total_price","icons"]}return t.prototype.ngOnInit=function(){this.getSales()},t.prototype.getSales=function(){var t=this;this.service.getsales().subscribe((function(e){e.forEach((function(t){t.total_price=parseFloat(t.total_price.replace(/\./g,"").replace(",",".")).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),console.log(t)})),t.dataSource=new r.k(e),t.dataSource.paginator=t.paginator,t.dataSource.sort=t.sort}))},t.prototype.detail=function(t){console.log(t),this.service.sale=Object.assign({},t),this.dialog.open(m,{width:"600px",height:"600px"}).afterClosed().subscribe()},t.prototype.applyFilter=function(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()},t.\u0275fac=function(e){return new(e||t)(l.Pb(b.a),l.Pb(s.b))},t.\u0275cmp=l.Jb({type:t,selectors:[["app-list-sales"]],viewQuery:function(t,e){var i;1&t&&(l.wc(o.a,!0),l.wc(n.a,!0)),2&t&&(l.pc(i=l.ec())&&(e.paginator=i.first),l.pc(i=l.ec())&&(e.sort=i.first))},decls:24,vars:5,consts:[["matInput","","placeholder","Ex. Mia",3,"keyup"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","uid"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","customer"],["matColumnDef","created_at"],["matColumnDef","total_price"],["matColumnDef","icons"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["aria-hidden","false","aria-label","Example home icon",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(l.Vb(0,"mat-form-field"),l.Vb(1,"mat-label"),l.Ac(2,"Filtro"),l.Ub(),l.Vb(3,"input",0),l.dc("keyup",(function(t){return e.applyFilter(t)})),l.Ub(),l.Ub(),l.Vb(4,"div",1),l.Vb(5,"table",2),l.Tb(6,3),l.yc(7,g,2,0,"th",4),l.yc(8,V,2,1,"td",5),l.Sb(),l.Tb(9,6),l.yc(10,U,2,0,"th",4),l.yc(11,w,2,1,"td",5),l.Sb(),l.Tb(12,7),l.yc(13,D,2,0,"th",4),l.yc(14,x,4,8,"td",5),l.Sb(),l.Tb(15,8),l.yc(16,C,2,0,"th",4),l.yc(17,S,2,1,"td",5),l.Sb(),l.Tb(18,9),l.yc(19,A,1,0,"th",4),l.yc(20,_,3,0,"td",5),l.Sb(),l.yc(21,M,1,0,"tr",10),l.yc(22,F,1,0,"tr",11),l.Ub(),l.Qb(23,"mat-paginator",12),l.Ub()),2&t&&(l.Db(5),l.nc("dataSource",e.dataSource),l.Db(16),l.nc("matHeaderRowDef",e.displayedColumns),l.Db(1),l.nc("matRowDefColumns",e.displayedColumns),l.Db(1),l.nc("pageSizeOptions",l.oc(4,O)))},directives:[h.b,h.e,y.a,r.j,n.a,r.c,r.e,r.b,r.g,r.i,o.a,r.d,n.b,r.a,v.a,r.f,r.h],pipes:[c.e],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:25%}.mat-column-uid[_ngcontent-%COMP%]{flex:none;width:5%}.mat-column-icon[_ngcontent-%COMP%]{flex:none;width:6%}.btn-fab[_ngcontent-%COMP%]{position:fixed;bottom:2%;right:2%}"]}),t}()}],k=function(){function t(){}return t.\u0275mod=l.Nb({type:t}),t.\u0275inj=l.Mb({factory:function(e){return new(e||t)},imports:[[a.e.forChild(P)],a.e]}),t}(),T=i("MviD"),L=i("qiSS"),R=function(){function t(){}return t.\u0275mod=l.Nb({type:t}),t.\u0275inj=l.Mb({factory:function(e){return new(e||t)},imports:[[c.c,k,T.a,L.a.withConfig({addFlexToParent:!1})]]}),t}()}}]);