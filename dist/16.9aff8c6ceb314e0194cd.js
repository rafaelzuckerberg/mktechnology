(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{OHIN:function(t,e,n){"use strict";n.r(e),n.d(e,"UserModule",(function(){return H}));var o=n("Valr"),i=n("DUip"),c=n("nbAZ"),r=n("Byqp"),a=n("ETwC"),l=n("kmKP"),s=n("QJY3"),d=n("TYT/"),u=n("cUzu"),b=function(){function t(t){this.http=t}return t.prototype.getCEP=function(t){var e=t.replace(/-/g,"");return this.http.get("https://viacep.com.br/ws/"+e+"/json")},t.\u0275fac=function(e){return new(e||t)(d.Zb(u.a))},t.\u0275prov=d.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),m=n("ea4N"),p=n("5msO"),f=n("uLXW"),h=n("eHTH"),v=n("cSbt"),y=n("EVdn"),C=(n("a9fN"),function(){function t(t){this.eleRef=t,this.applyMask()}return t.prototype.applyMask=function(){y(this.eleRef.nativeElement).mask("000.000.000-00",{reverse:!0})},t.\u0275fac=function(e){return new(e||t)(d.Pb(d.l))},t.\u0275dir=d.Kb({type:t,selectors:[["","cpf",""]]}),t}()),V=function(){function t(t){this.eleRef=t,this.applyMask()}return t.prototype.applyMask=function(){y(this.eleRef.nativeElement).mask("00/00/0000")},t.\u0275fac=function(e){return new(e||t)(d.Pb(d.l))},t.\u0275dir=d.Kb({type:t,selectors:[["","date",""]]}),t}(),g=function(){function t(t){this.eleRef=t,this.applyMask()}return t.prototype.applyMask=function(){y(this.eleRef.nativeElement).mask("00000-000")},t.\u0275fac=function(e){return new(e||t)(d.Pb(d.l))},t.\u0275dir=d.Kb({type:t,selectors:[["","cep",""]]}),t}(),U=n("p+mS"),w=function(){function t(t,e,n,o,i){this.fb=t,this.modal=e,this.service=n,this.snackbar=o,this.location=i,this.clicked=!1}return t.prototype.ngOnInit=function(){this.initForm(),this.service.customer.uid&&(this.form.controls.email.disable(),this.form.get("email").clearValidators())},t.prototype.initForm=function(){this.form=this.fb.group({name:[this.service.customer.name,s.m.required],cpf:[this.service.customer.cpf,s.m.required],email:[this.service.customer.email,s.m.required],cep:[this.service.customer.cep,s.m.required],address:[this.service.customer.address,s.m.required],number_address:[this.service.customer.number_address,s.m.required],district:[this.service.customer.district,s.m.required],complement:[this.service.customer.complement,s.m.required],city:[this.service.customer.city,s.m.required],birthday:[this.service.customer.birthday,s.m.required]})},t.prototype.submit=function(){this.clicked=!0,null==this.service.customer.uid?this.add():this.update()},t.prototype.add=function(){var t=this;this.form.value.profile="Customer",this.service.add(this.form.value).then((function(e){t.openSnackBar("Cliente cadastrado com sucesso!"),t.closeModal(!0)}))},t.prototype.update=function(){var t=this;this.form.value.uid=this.service.customer.uid,this.service.update(this.form.value).then((function(e){t.openSnackBar("Cliente atualizado com sucesso!"),t.closeModal(!0)}))},t.prototype.getCep=function(t){var e=this;9==t.length&&(console.log(t),this.location.getCEP(t).subscribe((function(t){console.log(t),e.form.controls.address.setValue(t.logradouro),e.form.controls.district.setValue(t.bairro),e.form.controls.city.setValue(t.localidade),e.form.controls.complement.setValue(t.complemento)})))},t.prototype.openSnackBar=function(t){this.snackbar.open(t,"Fechar",{duration:2e3})},t.prototype.closeModal=function(t){this.modal.close(t)},t.\u0275fac=function(e){return new(e||t)(d.Pb(s.c),d.Pb(m.d),d.Pb(l.a),d.Pb(p.a),d.Pb(b))},t.\u0275cmp=d.Jb({type:t,selectors:[["app-create-edit-customer"]],decls:46,vars:5,consts:[["fxLayout","row","fxLayoutAlign","center none",1,"container"],["fxFlex",""],["fxFlex","50%"],[3,"formGroup","ngSubmit"],["fxLayout","row"],["fxFlex","48"],["matInput","","type","text","placeholder","Nome","formControlName","name"],["matInput","","type","email","placeholder","Email","formControlName","email",3,"input"],["input",""],["matInput","","type","text","placeholder","CPF","formControlName","cpf","cpf",""],["matInput","","type","text","placeholder","Anivers\xe1rio","formControlName","birthday","date",""],["matInput","","type","text","placeholder","cep","formControlName","cep","cep","",3,"input"],["matInput","","type","text","placeholder","Endere\xe7o","formControlName","address"],["matInput","","type","text","placeholder","N\xba","formControlName","number_address"],["matInput","","type","text","placeholder","Bairro","formControlName","district"],["matInput","","type","text","placeholder","Complemento","formControlName","complement"],["matInput","","type","text","placeholder","Cidade","formControlName","city"],["fxFlex","45%"],["mat-stroked-button","","color","primary",3,"disabled"],["type","button","mat-stroked-button","","color","warn",3,"disabled","click"]],template:function(t,e){if(1&t){var n=d.Wb();d.Vb(0,"div",0),d.Qb(1,"div",1),d.Vb(2,"div",2),d.Vb(3,"h3"),d.Ac(4),d.Ub(),d.Ub(),d.Qb(5,"div",1),d.Ub(),d.Vb(6,"form",3),d.dc("ngSubmit",(function(){return e.submit()})),d.Vb(7,"div",4),d.Vb(8,"mat-form-field",5),d.Qb(9,"input",6),d.Ub(),d.Qb(10,"div",1),d.Vb(11,"mat-form-field",5),d.Vb(12,"input",7,8),d.dc("input",(function(t){return d.sc(n),d.qc(13).value=t.target.value.toLowerCase()})),d.Ub(),d.Ub(),d.Ub(),d.Vb(14,"div",4),d.Vb(15,"mat-form-field",5),d.Qb(16,"input",9),d.Ub(),d.Qb(17,"div",1),d.Vb(18,"mat-form-field",5),d.Qb(19,"input",10),d.Ub(),d.Ub(),d.Vb(20,"div",4),d.Vb(21,"mat-form-field",5),d.Vb(22,"input",11),d.dc("input",(function(t){return e.getCep(t.target.value)})),d.Ub(),d.Ub(),d.Qb(23,"div",1),d.Vb(24,"mat-form-field",5),d.Qb(25,"input",12),d.Ub(),d.Ub(),d.Vb(26,"div",4),d.Vb(27,"mat-form-field",5),d.Qb(28,"input",13),d.Ub(),d.Qb(29,"div",1),d.Vb(30,"mat-form-field",5),d.Qb(31,"input",14),d.Ub(),d.Ub(),d.Vb(32,"div",4),d.Vb(33,"mat-form-field",5),d.Qb(34,"input",15),d.Ub(),d.Qb(35,"div",1),d.Vb(36,"mat-form-field",5),d.Qb(37,"input",16),d.Ub(),d.Ub(),d.Vb(38,"div",4),d.Vb(39,"div",17),d.Vb(40,"button",18),d.Ac(41),d.Ub(),d.Ub(),d.Qb(42,"div",1),d.Vb(43,"div",17),d.Vb(44,"button",19),d.dc("click",(function(){return e.closeModal(null)})),d.Ac(45,"Cancelar"),d.Ub(),d.Ub(),d.Ub(),d.Ub()}2&t&&(d.Db(4),d.Bc(e.service.customer.uid?"Atualizar Cliente":"Cadastrar Cliente"),d.Db(2),d.nc("formGroup",e.form),d.Db(34),d.nc("disabled",!e.form.valid||e.clicked),d.Db(1),d.Bc(e.service.customer.uid?"Alterar":"Cadastrar"),d.Db(3),d.nc("disabled",e.clicked))},directives:[f.d,f.c,f.b,s.n,s.j,s.e,h.b,v.a,s.b,s.i,s.d,C,V,g,U.b],styles:[".row[_ngcontent-%COMP%]{margin:5% 0}button[_ngcontent-%COMP%]{width:100%}"]}),t}(),k=function(){function t(t,e,n){this.service=t,this.modal=e,this.data=n,this.clicked=!1}return t.prototype.ngOnInit=function(){},t.prototype.delete=function(){var t=this;this.clicked=!0,this.service.delete(this.data.uid).then((function(e){t.closeModal(!0)}))},t.prototype.closeModal=function(t){this.modal.close(t)},t.\u0275fac=function(e){return new(e||t)(d.Pb(l.a),d.Pb(m.d),d.Pb(m.a))},t.\u0275cmp=d.Jb({type:t,selectors:[["app-delete-customer"]],decls:18,vars:2,consts:[["fxLayout","row","fxLayoutAlign","center none",1,"container"],["fxFlex",""],["fxFlex","90%"],["fxLayout","row"],["fxFlex","45%"],["mat-stroked-button","","color","primary",3,"disabled","click"],["type","button","mat-stroked-button","","color","warn",3,"disabled","click"]],template:function(t,e){1&t&&(d.Vb(0,"div",0),d.Qb(1,"div",1),d.Vb(2,"div",2),d.Vb(3,"h2"),d.Ac(4,"Deseja deletar realmente?"),d.Ub(),d.Ub(),d.Qb(5,"div",1),d.Ub(),d.Vb(6,"div",0),d.Vb(7,"div",1),d.Vb(8,"h3"),d.Ac(9,"Cliente ser\xe1 deletado"),d.Ub(),d.Ub(),d.Ub(),d.Vb(10,"div",3),d.Vb(11,"div",4),d.Vb(12,"button",5),d.dc("click",(function(){return e.delete()})),d.Ac(13,"Deletar"),d.Ub(),d.Ub(),d.Qb(14,"div",1),d.Vb(15,"div",4),d.Vb(16,"button",6),d.dc("click",(function(){return e.closeModal(null)})),d.Ac(17,"Cancelar"),d.Ub(),d.Ub(),d.Ub()),2&t&&(d.Db(12),d.nc("disabled",e.clicked),d.Db(4),d.nc("disabled",e.clicked))},directives:[f.d,f.c,f.b,U.b],styles:[".container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{text-align:center}button[_ngcontent-%COMP%]{width:100%}"]}),t}(),x=n("GsDI");function M(t,e){1&t&&(d.Vb(0,"th",16),d.Ac(1," ID "),d.Ub())}function P(t,e){if(1&t&&(d.Vb(0,"td",17),d.Ac(1),d.Ub()),2&t){var n=e.index;d.Db(1),d.Cc(" ",n+1," ")}}function D(t,e){1&t&&(d.Vb(0,"th",16),d.Ac(1," NOME "),d.Ub())}function A(t,e){if(1&t&&(d.Vb(0,"td",17),d.Ac(1),d.Ub()),2&t){var n=e.$implicit;d.Db(1),d.Cc(" ",n.name," ")}}function S(t,e){1&t&&(d.Vb(0,"th",16),d.Ac(1," CPF "),d.Ub())}function O(t,e){if(1&t&&(d.Vb(0,"td",17),d.Ac(1),d.Ub()),2&t){var n=e.$implicit;d.Db(1),d.Cc(" ",n.cpf," ")}}function Q(t,e){1&t&&(d.Vb(0,"th",16),d.Ac(1," EMAIL "),d.Ub())}function _(t,e){if(1&t&&(d.Vb(0,"td",17),d.Ac(1),d.Ub()),2&t){var n=e.$implicit;d.Db(1),d.Cc(" ",n.email," ")}}function I(t,e){1&t&&(d.Vb(0,"th",16),d.Ac(1," DATA NASCIMENTO "),d.Ub())}function N(t,e){if(1&t&&(d.Vb(0,"td",17),d.Ac(1),d.Ub()),2&t){var n=e.$implicit;d.xc("color",n.color),d.Db(1),d.Cc(" ",n.birthday," ")}}function F(t,e){1&t&&d.Qb(0,"th",16)}function E(t,e){if(1&t){var n=d.Wb();d.Vb(0,"td",17),d.Vb(1,"mat-icon",18),d.Ac(2,"visibility"),d.Ub(),d.Vb(3,"mat-icon",19),d.dc("click",(function(){d.sc(n);var t=e.$implicit;return d.hc().openModal(t)})),d.Ac(4,"edit"),d.Ub(),d.Vb(5,"mat-icon",19),d.dc("click",(function(){d.sc(n);var t=e.$implicit;return d.hc().delete(t.uid)})),d.Ac(6,"delete"),d.Ub(),d.Ub()}}function q(t,e){1&t&&d.Qb(0,"tr",20)}function T(t,e){1&t&&d.Qb(0,"tr",21)}var L=function(){return[5,10,25,100]},R=[{path:"customers",component:function(){function t(t,e,n){this.service=t,this.dialog=e,this.snackbar=n,this.displayedColumns=["uid","name","email","cpf","birthday","icons"]}return t.prototype.ngOnInit=function(){this.getCustomers()},t.prototype.applyFilter=function(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()},t.prototype.getCustomers=function(){var t=this;this.service.getCustomers().subscribe((function(e){t.dataSource=new a.k(e),t.dataSource.paginator=t.paginator,t.dataSource.sort=t.sort}))},t.prototype.openModal=function(t){this.service.customer=Object.assign({},t),this.dialog.open(w,{width:"600px",height:"480px"}).afterClosed().subscribe()},t.prototype.delete=function(t){var e=this;this.dialog.open(k,{width:"400px",height:"250px",disableClose:!0,data:{uid:t}}).afterClosed().subscribe((function(t){null!=t&&e.openSnackBar("Cliente deletado com sucesso!")}))},t.prototype.openSnackBar=function(t){this.snackbar.open(t,"Fechar",{duration:2e3})},t.\u0275fac=function(e){return new(e||t)(d.Pb(l.a),d.Pb(m.b),d.Pb(p.a))},t.\u0275cmp=d.Jb({type:t,selectors:[["app-list-customers"]],viewQuery:function(t,e){var n;1&t&&(d.wc(c.a,!0),d.wc(r.a,!0)),2&t&&(d.pc(n=d.ec())&&(e.paginator=n.first),d.pc(n=d.ec())&&(e.sort=n.first))},decls:30,vars:5,consts:[["matInput","","placeholder","Ex. Mia",3,"keyup"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","uid"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","cpf"],["matColumnDef","email"],["matColumnDef","birthday"],["mat-cell","",3,"color",4,"matCellDef"],["matColumnDef","icons"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["mat-fab","","color","primary",1,"btn-fab",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["aria-hidden","false","aria-label","Example home icon"],["aria-hidden","false","aria-label","Example home icon",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(d.Vb(0,"mat-form-field"),d.Vb(1,"mat-label"),d.Ac(2,"Filter"),d.Ub(),d.Vb(3,"input",0),d.dc("keyup",(function(t){return e.applyFilter(t)})),d.Ub(),d.Ub(),d.Vb(4,"div",1),d.Vb(5,"table",2),d.Tb(6,3),d.yc(7,M,2,0,"th",4),d.yc(8,P,2,1,"td",5),d.Sb(),d.Tb(9,6),d.yc(10,D,2,0,"th",4),d.yc(11,A,2,1,"td",5),d.Sb(),d.Tb(12,7),d.yc(13,S,2,0,"th",4),d.yc(14,O,2,1,"td",5),d.Sb(),d.Tb(15,8),d.yc(16,Q,2,0,"th",4),d.yc(17,_,2,1,"td",5),d.Sb(),d.Tb(18,9),d.yc(19,I,2,0,"th",4),d.yc(20,N,2,3,"td",10),d.Sb(),d.Tb(21,11),d.yc(22,F,1,0,"th",4),d.yc(23,E,7,0,"td",5),d.Sb(),d.yc(24,q,1,0,"tr",12),d.yc(25,T,1,0,"tr",13),d.Ub(),d.Qb(26,"mat-paginator",14),d.Ub(),d.Vb(27,"button",15),d.dc("click",(function(){return e.openModal(null)})),d.Vb(28,"mat-icon"),d.Ac(29,"add"),d.Ub(),d.Ub()),2&t&&(d.Db(5),d.nc("dataSource",e.dataSource),d.Db(19),d.nc("matHeaderRowDef",e.displayedColumns),d.Db(1),d.nc("matRowDefColumns",e.displayedColumns),d.Db(1),d.nc("pageSizeOptions",d.oc(4,L)))},directives:[h.b,h.e,v.a,a.j,r.a,a.c,a.e,a.b,a.g,a.i,c.a,U.b,x.a,a.d,r.b,a.a,a.f,a.h],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:25%}.mat-column-uid[_ngcontent-%COMP%]{flex:none;width:5%}.mat-column-email[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%]{flex:none;width:30%}.mat-column-birthday[_ngcontent-%COMP%], .mat-column-cpf[_ngcontent-%COMP%]{flex:none;width:10%}.mat-column-icons[_ngcontent-%COMP%]{flex:none;width:15%}.btn-fab[_ngcontent-%COMP%]{position:fixed;bottom:2%;right:2%}"]}),t}()}],B=function(){function t(){}return t.\u0275mod=d.Nb({type:t}),t.\u0275inj=d.Mb({factory:function(e){return new(e||t)},imports:[[i.e.forChild(R)],i.e]}),t}(),j=n("qiSS"),z=n("MviD"),H=function(){function t(){}return t.\u0275mod=d.Nb({type:t}),t.\u0275inj=d.Mb({factory:function(e){return new(e||t)},imports:[[o.c,B,z.a,j.a.withConfig({addFlexToParent:!1}),s.l]]}),t}()}}]);